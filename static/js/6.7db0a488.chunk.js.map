{"version":3,"sources":["hooks/useSearchByCategory.js","components/ListResults.jsx","pages/Results.jsx","utils/helpers.js","components/NotProducts.jsx","components/Error.jsx","components/Buttons.jsx","utils/constants.js","components/ProductItem.jsx","components/Skeleton.jsx","api/repository.js"],"names":["useSearchByCategory","query","useState","data","setData","error","setError","loading","setLoading","fetchResultsSearch","a","searchProduct","results","useEffect","WrapperResults","styled","div","ListResults","product","useParams","searchProducts","Skeleton","quantity","Error","length","map","ProductItem","id","NotProducts","Results","className","discount","original","price","exp","Math","pow","parseInt","formatPrice","Intl","NumberFormat","format","listEmpty","number","array","index","push","WrapperNotProducts","WrapperError","Button","button","ButtonNext","currentSlide","slideCount","props","aria-hidden","aria-disabled","type","src","alt","height","ButtonPrev","API_BASE","API_QUERY","API_CATEGORY","ID_CATEGORY_MODA","ID_CATEGORY_DRESSES","FILTER_DISCOUNT","LIMIT_HOME","settings","infinite","speed","slidesToShow","slidesToScroll","arrows","nextArrow","prevArrow","responsive","breakpoint","dots","WrapperItem","slider","css","ImageItem","img","DetailItem","Discount","span","TitleItem","h3","Price","p","PriceOld","ButtonAdd","mapDispatchToProps","addCart","connect","state","isAdd","productAddSelector","title","original_price","thumbnail","textButton","onClick","size","ContainerSkeleton","ul","carousel","animationSkeleton","keyframes","ItemSkeleton","li","listProducts","item","getProductsDiscount","idCategory","URL_COMPOSE","Axios","get","value","URL_COMPOSE_SEARCH"],"mappings":"gPA2BeA,EAxBa,SAACC,GAAW,IAAD,EACbC,mBAAS,IADI,mBAC9BC,EAD8B,KACxBC,EADwB,OAEXF,mBAAS,MAFE,mBAE9BG,EAF8B,KAEvBC,EAFuB,OAGPJ,oBAAS,GAHF,mBAG9BK,EAH8B,KAGrBC,EAHqB,KAK/BC,EAAkB,uCAAG,8BAAAC,EAAA,+EAEaC,YAAcV,GAF3B,gBAEPW,EAFO,EAEfT,KAAQS,QAChBR,EAAQQ,GAHe,gDAKvBN,EAAS,+BALc,yBAOvBE,GAAW,GAPY,4EAAH,qDAgBxB,OALAK,qBAAU,WACRJ,MAEC,CAACR,IAEG,CAAEE,OAAME,QAAOE,Y,eCdlBO,EAAiBC,IAAOC,IAAV,+TAgCLC,EAlBK,WAAO,IACjBC,EAAYC,cAAZD,QADgB,EAEyBlB,EAAoBkB,GAAvDE,EAFU,EAEhBjB,KAAsBE,EAFN,EAEMA,MAE9B,OAJwB,EAEaE,QAEjB,cAACc,EAAA,EAAD,CAAUC,SAAU,KACpCjB,EAAc,cAACkB,EAAA,QAAD,IACdH,EAAeI,OAIjB,cAACV,EAAD,iBACGM,QADH,IACGA,OADH,EACGA,EAAgBK,KAAI,SAACP,GAAD,OACnB,cAACQ,EAAA,EAAD,eAAkCR,GAAhBA,EAAQS,SANE,cAACC,EAAA,EAAD,KCfrBC,UAVC,WAAO,IACbX,EAAYC,cAAZD,QACR,OACE,0BAASY,UAAU,YAAnB,UACE,kDAAqBZ,KACrB,cAAC,EAAD,S,gCCVN,sGAAO,IAAMa,EAAW,SAACC,EAAUC,GACjC,IAAMC,EAAMC,KAAKC,IAAI,GAAI,GAGnBL,EAD8BE,EAAQD,EADpB,QAIxB,OAAOK,SAASN,EAAWG,IAGhBI,EAAc,SAACL,GAC1B,OAAO,IAAIM,KAAKC,aAAa,SAASC,OAAOR,IAGlCS,EAAY,SAACC,GAExB,IADA,IAAMC,EAAQ,GACLC,EAAQ,EAAGA,EAAQF,EAAQE,IAClCD,EAAME,KAAKD,GAEb,OAAOD,I,kECfHG,EAAqBhC,IAAOC,IAAV,gJAgBTY,IARK,kBAClB,eAACmB,EAAD,4CAEE,0D,yECXEC,EAAejC,IAAOC,IAAV,gJAgBHO,UARD,kBACZ,eAACyB,EAAD,4CAEE,iE,kWCXEC,EAASlC,IAAOmC,OAAV,+EAKCC,EAAa,SAAC,GAA4C,IAA1CC,EAAyC,EAAzCA,aAAcC,EAA2B,EAA3BA,WAAeC,EAAY,6CACpE,OACE,cAACL,EAAD,2BACMK,GADN,IAEExB,UACE,0BACCsB,IAAiBC,EAAa,EAAI,kBAAoB,IAEzDE,cAAY,OACZC,gBAAeJ,IAAiBC,EAAa,EAC7CI,KAAK,SARP,SAUE,qBAAKC,IAAI,wBAAwBC,IAAI,cAAcC,OAAO,WAKnDC,EAAa,SAAC,GAA4C,IAA1CT,EAAyC,EAAzCA,aAA6BE,GAAY,EAA3BD,WAA2B,8CACpE,OACE,cAACJ,EAAD,2BACMK,GADN,IAEExB,UACE,0BACkB,IAAjBsB,EAAqB,kBAAoB,IAE5CG,cAAY,OACZC,gBAAgC,IAAjBJ,EACfK,KAAK,SARP,SAUE,qBAAKC,IAAI,uBAAuBC,IAAI,cAAcC,OAAO,WCnClDE,EAAW,gDACXC,EAAY,MACZC,EAAgB,YAChBC,EAAmB,UACnBC,EAAsB,YACtBC,EAAkB,iBAClBC,EAAa,UAEbC,EAAW,CACtBC,UAAU,EACVC,MAAO,IACPC,aAAc,EACdC,eAAgB,EAChBC,QAAQ,EACRC,UAAW,cAAC,EAAD,IACXC,UAAW,cAAC,EAAD,IACXC,WAAY,CACV,CACEC,WAAY,IACZT,SAAU,CACRG,aAAc,EACdC,eAAgB,IAGpB,CACEK,WAAY,IACZT,SAAU,CACRG,aAAc,EACdC,eAAgB,EAChBC,QAAQ,EACRK,MAAM,O,kHCtBRC,EAAcjE,IAAOC,IAAV,+GAIb,qBAAGiE,QAAuBC,YAAJ,qHAQpBC,EAAYpE,IAAOqE,IAAV,sFAMTC,EAAatE,IAAOC,IAAV,+HAOVsE,EAAWvE,IAAOwE,KAAV,gPAaRC,EAAYzE,IAAO0E,GAAV,uPAYTC,EAAQ3E,IAAO4E,EAAV,mKASLC,EAAW7E,IAAOwE,KAAV,8IAQRM,EAAY9E,IAAOmC,OAAV,4WA6DT4C,EAAqB,CACzBC,aAGaC,iBATS,SAACC,EAAD,OAAUtE,EAAV,EAAUA,GAAV,MAAoB,CAC1CuE,MAAOC,YAAmBxE,EAAnBwE,CAAuBF,MAQQH,EAAzBE,EA5CK,SAAC,GAA6E,IAA3ErE,EAA0E,EAA1EA,GAAIyE,EAAsE,EAAtEA,MAAOnE,EAA+D,EAA/DA,MAAOoE,EAAwD,EAAxDA,eAAgBC,EAAwC,EAAxCA,UAAWrB,EAA6B,EAA7BA,OAAQiB,EAAqB,EAArBA,MAAOH,EAAc,EAAdA,QAC3EQ,EAAcL,EAA+B,oBAAvB,qBAI5B,OACE,eAAClB,EAAD,CAAaC,OAAQA,EAArB,UACGoB,GACC,eAACf,EAAD,WACGvD,YAASsE,EAAgBpE,GAD5B,OAIF,cAACkD,EAAD,CAAWzB,IAAK4C,EAAW3C,IAAKyC,IAChC,eAACf,EAAD,WACE,cAACG,EAAD,UACGY,IAEH,eAACV,EAAD,eACIpD,YAAYL,GACboE,GACC,eAACT,EAAD,eACItD,YAAY+D,SAIpB,cAACR,EAAD,CAAWW,QAtBE,kBAAMT,EAAQ,CAAEpE,KAAIyE,QAAOnE,QAAOX,SAAU,KAsBzD,SACE,iCACE,cAAC,IAAD,CAAemF,KAAK,UADtB,IACiCF,iB,8ECzHrCG,EAAoB3F,IAAO4F,GAAV,0YAOZ,qBAAGC,UAA2B,SAWnCC,EAAoBC,YAAH,6HASjBC,EAAehG,IAAOiG,GAAV,uYAGHH,GA2BAxF,IAdE,SAAC,GAAgC,IAAD,IAA7BC,gBAA6B,MAAlB,EAAkB,EAAfsF,EAAe,EAAfA,SAC1BK,EAAevE,YAAUpB,GAE/B,OACE,qBAAKQ,UAAU,YAAf,SACE,cAAC4E,EAAD,CAAmBE,SAAUA,EAA7B,gBACGK,QADH,IACGA,OADH,EACGA,EAAcxF,KAAI,SAACyF,GAAD,OACjB,cAACH,EAAD,GAAmBG,Y,gCCtD7B,iGAGaC,EAAsB,WAAwC,IAAvCC,EAAsC,uDAAzBlD,IACzCmD,EAAW,UAAMvD,IAAN,YAAkBE,KAAlB,OAAiCoD,EAAjC,YAA+CjD,IAA/C,YAAkEC,KACnF,OAAOkD,IAAMC,IAAIF,IAGN1G,EAAgB,SAAC6G,GAA0C,IAAnCJ,EAAkC,uDAArBnD,IAC1CwD,EAAkB,UAAM3D,KAAN,OAAiBC,KAAjB,OAA6ByD,EAA7B,YAAsCxD,KAAtC,OAAqDoD,GAC7E,OAAOE,IAAMC,IAAIE","file":"static/js/6.7db0a488.chunk.js","sourcesContent":["import { useEffect, useState } from 'react';\nimport { searchProduct } from '../api/repository';\n\nconst useSearchByCategory = (query) => {\n  const [data, setData] = useState([])\n  const [error, setError] = useState(null)\n  const [loading, setLoading] = useState(true)\n\n  const fetchResultsSearch = async () => {\n    try {\n      const { data: { results } } = await searchProduct(query)\n      setData(results)\n    } catch {\n      setError('Error intentelo nuevamente.')\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  useEffect(() => {\n    fetchResultsSearch()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query])\n\n  return { data, error, loading }\n}\n\nexport default useSearchByCategory\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport Error from './Error';\nimport ProductItem from './ProductItem';\nimport Skeleton from './Skeleton';\nimport useSearchByCategory from '../hooks/useSearchByCategory';\nimport NotProducts from './NotProducts';\n\nconst WrapperResults = styled.div`\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  grid-gap: 15px 62px;\n  @media(max-width: 960px) {\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 15px 42px;\n  }\n  @media(max-width: 560px) {\n    grid-template-columns: repeat(1, 1fr);\n    grid-gap: 15px 0;\n  }\n`\n\nconst ListResults = () => {\n  const { product } = useParams()\n  const { data: searchProducts, error, loading } = useSearchByCategory(product)\n\n  if (loading) return <Skeleton quantity={20}/>\n  if (error) return <Error/>\n  if(!searchProducts.length) return <NotProducts/>\n\n  \n  return (\n    <WrapperResults>\n      {searchProducts?.map((product) => (\n        <ProductItem key={product.id} {...product}/>\n      ))}\n    </WrapperResults>\n  )\n}\n\nexport default ListResults\n","import React from 'react';\nimport { useParams } from 'react-router-dom';\n\nimport ListResults from '../components/ListResults';\n\nconst Results = () => {\n  const { product } = useParams()\n  return (\n    <section className=\"container\">\n      <h1>Resultados para {product}</h1>\n      <ListResults/>\n    </section>\n  )\n}\n\nexport default Results\n","export const discount = (original, price) => {\n  const exp = Math.pow(10, 0)\n  const percentageTotal = 100\n  const calculatePercentagePrice =  ((price / original) * percentageTotal)\n  const discount = calculatePercentagePrice - percentageTotal\n  \n  return parseInt(discount * exp)\n}\n\nexport const formatPrice = (price) => {\n  return new Intl.NumberFormat(\"es-ES\").format(price)\n}\n\nexport const listEmpty = (number) => {\n  const array = []\n  for (let index = 0; index < number; index++) {\n    array.push(index)\n  }\n  return array\n} ","import React from 'react';\nimport styled from 'styled-components';\n\nconst WrapperNotProducts = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 40px 0;\n`\n\nconst NotProducts = () => (\n  <WrapperNotProducts>\n    ðŸ˜žâ˜¹ðŸ˜ž\n    <p>No tienes productos.</p>\n  </WrapperNotProducts>\n)\n\n\nexport default NotProducts\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst WrapperError = styled.div`\n  align-items: center;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 40px 0;\n`\n\nconst Error = () => (\n  <WrapperError>\n    ðŸ˜žâ˜¹ðŸ˜ž\n    <p>Error, vuelve a intentarlo.</p>\n  </WrapperError>\n)\n\n\nexport default Error\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst Button = styled.button`\n  background-color: transparent;\n  border: none;\n`\n\nexport const ButtonNext = ({ currentSlide, slideCount, ...props }) => {\n  return (\n    <Button\n      {...props}\n      className={\n        \"slick-next slick-arrow\" +\n        (currentSlide === slideCount - 1 ? \" slick-disabled\" : \"\")\n      }\n      aria-hidden=\"true\"\n      aria-disabled={currentSlide === slideCount - 1 ? true : false}\n      type=\"button\"\n    >\n      <img src=\"images/arrowRight.png\" alt=\"Arrow Right\" height=\"50\"/>\n    </Button>\n  )\n}\n\nexport const ButtonPrev = ({ currentSlide, slideCount, ...props }) => {\n  return (\n    <Button\n      {...props}\n      className={\n        \"slick-prev slick-arrow\" +\n        (currentSlide === 0 ? \" slick-disabled\" : \"\")\n      }\n      aria-hidden=\"true\"\n      aria-disabled={currentSlide === 0 ? true : false}\n      type=\"button\"\n    >\n      <img src=\"images/arrowLeft.png\" alt=\"Arrow Right\" height=\"50\"/>\n    </Button>\n  )\n}\n\n\n","import { ButtonNext, ButtonPrev } from '../components/Buttons';\n\nexport const API_BASE = 'https://api.mercadolibre.com/sites/MCO/search';\nexport const API_QUERY = '?q=';\nexport const API_CATEGORY =  'category=';\nexport const ID_CATEGORY_MODA = 'MCO1430';\nexport const ID_CATEGORY_DRESSES = 'MCO157294';\nexport const FILTER_DISCOUNT = 'discount=5-100';\nexport const LIMIT_HOME = 'limit=8';\n\nexport const settings = {\n  infinite: true,\n  speed: 500,\n  slidesToShow: 4,\n  slidesToScroll: 1,\n  arrows: true,\n  nextArrow: <ButtonNext/>,\n  prevArrow: <ButtonPrev/>,\n  responsive: [\n    {\n      breakpoint: 960,\n      settings: {\n        slidesToShow: 3,\n        slidesToScroll: 1,\n      }\n    },\n    {\n      breakpoint: 560,\n      settings: {\n        slidesToShow: 1,\n        slidesToScroll: 1,\n        arrows: false,\n        dots: true\n      }\n    }\n  ]\n};","import React from 'react';\nimport styled, { css }  from 'styled-components';\nimport { IoCartOutline } from \"react-icons/io5\";\nimport { connect } from 'react-redux';\n\nimport { discount, formatPrice } from '../utils/helpers';\nimport { productAddSelector } from '../app/slice';\nimport { addCart } from '../app/slice';\n\n\nconst WrapperItem = styled.div`\n  border: 1px solid #E6E6E6;\n  position: relative;\n  text-align: center;\n  ${({ slider }) => slider && css`\n    @media(min-width: 561px) {\n      & {\n        margin: 0 20px;\n      }\n    }\n  `}\n`\nconst ImageItem = styled.img`\n  width: 100%;\n  height: 250px;\n  object-fit: contain;\n`\n\nconst DetailItem = styled.div`\n  background-color: #F4F4F4;\n  border: 1px solid #E6E6E6;\n  padding: 20px;\n  text-align: left;\n`\n\nconst Discount = styled.span`\n  background-color: #5B17AA;\n  color: white;\n  display: inline-block;\n  font-size: 14px;\n  font-weight: bold;\n  left: 12px;\n  padding: 5px 15px;\n  position: absolute;\n  text-align: center;\n  top: 12px;\n`\n\nconst TitleItem = styled.h3`\n  -webkit-box-orient: vertical;\n  -webkit-line-clamp: 2;\n  display: -webkit-box;\n  margin-top: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  font-size: 16px;\n  font-weight: normal;\n  margin-bottom: 10px;\n`\n\nconst Price = styled.p`\n  color: #5B17AA;\n  display: flex;\n  font-size: 18px;\n  font-weight: bold;\n  justify-content: space-between;\n  margin: 0 0 15px;\n`\n\nconst PriceOld = styled.span`\n  color: #6B6B6B;\n  font-size: 16px;\n  font-weight: normal;\n  opacity: 0.8;\n  text-decoration: line-through;\n`\n\nconst ButtonAdd = styled.button`\n  align-items: center;\n  background-color: #000000;\n  border: none;\n  color: white;\n  cursor: pointer;\n  display: flex;\n  font-size: 14px;\n  height: 40px;\n  justify-content: center;\n  text-align: center;\n  width: 100%;\n  span {\n    svg {\n      margin-right: 10px;\n    }\n    align-items: center;\n    display: flex;\n  }\n`\n\nconst ProductItem = ({ id, title, price, original_price, thumbnail, slider, isAdd, addCart }) => {\n  const textButton = !isAdd ? 'Agregar al carrito' : 'Producto agregado'\n\n  const addProduct = () => addCart({ id, title, price, quantity: 1 })\n\n  return (\n    <WrapperItem slider={slider}>\n      {original_price &&\n        <Discount>\n          {discount(original_price, price)}%\n        </Discount>\n      }\n      <ImageItem src={thumbnail} alt={title}/>\n      <DetailItem>\n        <TitleItem>\n          {title}\n        </TitleItem>\n        <Price>\n          ${formatPrice(price)} \n          {original_price &&\n            <PriceOld>\n              ${formatPrice(original_price)}\n            </PriceOld> \n          }\n        </Price>\n        <ButtonAdd onClick={addProduct} >\n          <span>\n            <IoCartOutline size=\"1.3em\"/> {textButton}\n          </span>\n        </ButtonAdd>\n      </DetailItem>\n    </WrapperItem>\n  )\n}\n\nconst mapStateToProps = (state, { id }) => ({\n  isAdd: productAddSelector(id)(state)\n})\n\n\nconst mapDispatchToProps = {\n  addCart\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductItem)\n","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\nimport { listEmpty } from '../utils/helpers';\n\nconst ContainerSkeleton = styled.ul`\n  display: grid;\n  grid-gap: 15px 62px;\n  grid-template-columns: repeat(4, 1fr);\n  list-style: none;\n  margin: 0 auto 70px;\n  padding: 0;\n  width: ${({ carousel }) => carousel && '80%'};\n  @media(max-width: 960px) {\n    grid-template-columns: repeat(2, 1fr);\n    grid-gap: 15px 42px;\n  }\n  @media(max-width: 560px) {\n    grid-template-columns: repeat(1, 1fr);\n    grid-gap: 15px 0;\n  }\n`\n\nconst animationSkeleton = keyframes`\n  from {\n    background-position: 0% 0%;\n  }\n  to {\n    background-position: -135% 0%;\n  }\n`\n\nconst ItemSkeleton = styled.li`\n  -moz-column-break-inside: avoid;\n  -webkit-column-break-inside: avoid;\n  animation: ${animationSkeleton} 1.2s ease-in-out infinite;\n  background-image: linear-gradient(to right, #9b9b9b 0%, #F8F8F8 50%, #969595 100%);\n  background-position: 0% 0%;\n  background-size: 400% 400%;\n  display: inline-block;\n  height: 350px;\n  margin: 5px 0;\n  opacity: 0.8;\n  width: 100%;\n`\n\n\n\nconst Skeleton = ({ quantity = 4, carousel }) => {\n  const listProducts = listEmpty(quantity)\n\n  return (\n    <div className=\"container\">\n      <ContainerSkeleton carousel={carousel}>\n        {listProducts?.map((item) => (\n          <ItemSkeleton key={item}/>\n          ))}\n      </ContainerSkeleton>\n    </div>\n  )\n}\n\nexport default Skeleton\n","import Axios from 'axios';\nimport { API_BASE, API_CATEGORY, API_QUERY, FILTER_DISCOUNT, ID_CATEGORY_DRESSES, ID_CATEGORY_MODA, LIMIT_HOME } from '../utils/constants';\n\nexport const getProductsDiscount = (idCategory = ID_CATEGORY_DRESSES ) => {\n  const URL_COMPOSE = `${API_BASE}?${API_CATEGORY}${idCategory}&${FILTER_DISCOUNT}&${LIMIT_HOME}`\n  return Axios.get(URL_COMPOSE)\n}\n\nexport const searchProduct = (value, idCategory = ID_CATEGORY_MODA) => {\n  const URL_COMPOSE_SEARCH = `${API_BASE}${API_QUERY}${value}&${API_CATEGORY}${idCategory}`\n  return Axios.get(URL_COMPOSE_SEARCH)\n}"],"sourceRoot":""}